(this["webpackJsonptask-app"]=this["webpackJsonptask-app"]||[]).push([[0],{103:function(e,t,n){e.exports=n(200)},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),c=n.n(o),l=n(25),u=n(22),s=n(91),i=n.n(s),m=n(92),p=n(13),d={todos:[],tasks:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(p.a)(Object(p.a)({},e),{},{todos:t.todos});case"ADD_TASK":case"ADD_COLUMN":case"DELETE_COLUMN":case"DELETE_TASK":return Object(p.a)({},e);case"PATCH_COLUMN":return Object(p.a)(Object(p.a)({},e),{},{todos:t.order2});case"CHANGE_COLUMNS":return Object(p.a)({},e);default:return e}},h=Object(u.c)({todo:f}),b=Object(u.c)({todoApp:h}),v=[m.a,i()()],g=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,k=Object(u.e)(b,{},g(u.a.apply(void 0,v))),E=n(26),O=n.n(E),j=n(40),C=n(66),w=n(33),x=n(34),S=n(36),y=n(35),_=n(16),D=(n(113),n(39)),I=n(17),T=n(225),F=n(218),A=n(219),N=n(96),L=n(222),M=n(223),P=n(216),U=n(37),B=n.n(U),H="http://localhost:5000",R=function(){return function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat(H,"/todo")).then((function(e){t({type:"GET_TODOS",todos:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(e){return function(t){B.a.post("".concat(H,"/collums"),e).then((function(n){t({type:"ADD_COLUMN",column:e}),t(R())}))}},K=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.put("".concat(H,"/collums"),e).then((function(){n(R())})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(t){B.a.delete("".concat(H,"/collums"),{data:{id:e}}).then((function(n){t({type:"DELETE_COLUMN",id:e}),t(R())}))}},X=function(e){return function(t){B.a.delete("".concat(H,"/tasks"),{data:{id:e}}).then((function(n){t({type:"DELETE_TASK",id:e}),t(R())}))}};function z(){var e=Object(_.a)(["\n  width: 40px;\n  height: 40px;\n  background: ",";\n  margin: 0 5px 5px 0;\n  border-radius: 5px;\n  border: none;\n  box-shadow: ",";\n"]);return z=function(){return e},e}var V=I.a.button(z(),(function(e){return e.background?e.background:"white"}),(function(e){return e.background===e.color?"0px 0px 5px"+function(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var a=parseInt(e,16),r=(a>>16)+t;r>255?r=255:r<0&&(r=0);var o=(a>>8&255)+t;o>255?o=255:o<0&&(o=0);var c=(255&a)+t;return c>255?c=255:c<0&&(c=0),(n?"#":"")+(c|o<<8|r<<16).toString(16)}(e.color,-20):"none"})),q=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF","#FFFFFF"]},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return this.state.colors.map((function(t){return r.a.createElement(V,{color:e.props.color,background:t,onClick:function(n){e.props.onChangeComplete(t)}})}))}}]),n}(a.Component);function Q(){var e=Object(_.a)(["\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return Q=function(){return e},e}function W(){var e=Object(_.a)(["\n  margin: 0em 0 0.2em 0;\n"]);return W=function(){return e},e}function Y(){var e=Object(_.a)(["\n  margin: 0.5em;\n  float: right;\n"]);return Y=function(){return e},e}function Z(){var e=Object(_.a)(["\n  margin: 0 0.5em 0.7em 0.5em;\n"]);return Z=function(){return e},e}function $(){var e=Object(_.a)(["\nfloat:right;\nwidth: 10%;\n"]);return $=function(){return e},e}function ee(){var e=Object(_.a)(["\nfloat: left;\nwidth: 90%;\n"]);return ee=function(){return e},e}function te(){var e=Object(_.a)(["\n    border: none;\n    box-shadow:0 0px 5px rgba(127, 126, 126, 0.6),0 0px 0px rgba(0,0,0,0.22);\n    border-radius: 3px;\n    overflow: hidden;\ntext-overflow: ellipsis;\n    padding: 8px;\n    margin-bottom: 8px;\n    background-color: ",";\n"]);return te=function(){return e},e}var ne=I.a.div(te(),(function(e){return e.color?e.color:"white"})),ae=I.a.div(ee()),re=I.a.div($()),oe=I.a.div(Z()),ce=I.a.div(Y()),le=I.a.div(W()),ue=I.a.div(Q()),se=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeId:null,task:{_id:null,owner:"",name:"",color:"",status:null,desk:""}},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(D.b,{draggableId:this.props.task._id,index:this.props.index},(function(t,n){return r.a.createElement(ne,Object.assign({},t.draggableProps,t.dragHandleProps,{color:e.props.task.color,ref:t.innerRef,isDragging:n.isDragging}),r.a.createElement(T.a,{isShown:e.state.activeId===e.props.task._id,title:"Edit task",onCloseComplete:function(){return e.setState({activeId:null})},hasFooter:!1},r.a.createElement(ue,null,r.a.createElement(oe,null,r.a.createElement(le,null,"Name"),r.a.createElement(F.a,{width:"100%",onChange:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{name:t.target.value})})},value:e.state.task.name,placeholder:"Enter the task name"}))),r.a.createElement(oe,null,r.a.createElement(le,null,"Color"),r.a.createElement(q,{color:e.state.task.color,onChangeComplete:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{color:t})})}})),r.a.createElement(oe,null,r.a.createElement(le,null,"Description"),r.a.createElement(A.a,{onChange:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{desk:t.target.value})})},value:e.state.task.desk,placeholder:"Enter the task description"})),r.a.createElement(ce,null,r.a.createElement(N.a,{appearance:"minimal",intent:"success",onClick:function(){e.props.changeTask(e.state.task),e.setState({activeId:!1,task:{_id:null,owner:"",name:"",color:"",status:null,desk:""}})},disabled:""===e.state.task.owner||null===e.state.task.owner},"Submit"))),r.a.createElement(ae,null,e.props.task.name),r.a.createElement(re,null,r.a.createElement(L.a,{position:"bottom-left",content:r.a.createElement(M.a,null,r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Item,{onSelect:function(){return e.setState({activeId:e.props.task._id,task:{_id:e.props.task._id,owner:e.props.task.owner,name:e.props.task.name,color:e.props.task.color,status:e.props.task.status,desk:e.props.task.desk}})}},"Edit"),r.a.createElement(M.a.Item,{intent:"danger",onSelect:function(){e.props.deleteTask(e.props.task._id)}},"Delete")))},r.a.createElement(P.a,{height:24,appearance:"minimal",icon:"more"}))))}))}}]),n}(r.a.Component),ie=Object(l.b)(null,{changeTask:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.put("".concat(H,"/tasks"),e).then((function(){n(R())})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteTask:X})(se),me=n(224);function pe(){var e=Object(_.a)(["\n  margin: 0.5em;\n  float: right;\n"]);return pe=function(){return e},e}function de(){var e=Object(_.a)(["\n  margin: 0 0.5em 0.7em 0.5em;\n"]);return de=function(){return e},e}function fe(){var e=Object(_.a)(["\n    border-radius: 0 0 5px 5px;\n    padding: 8px;\n    transition: background-color 0.2s ease;\n    background-color: ",";\n    flex-grow: 1;\n    height:auto\n"]);return fe=function(){return e},e}function he(){var e=Object(_.a)(["\n  margin: 0em 0 0.2em 0;\n"]);return he=function(){return e},e}function be(){var e=Object(_.a)(["\n    padding: 8px;\n"]);return be=function(){return e},e}function ve(){var e=Object(_.a)(["\n    margin: 8px;\n    border: none;\n        box-shadow:0 0px 5px rgba(127, 126, 126, 0.6),0 0px 0px rgba(0,0,0,0.22);\n\n    background: white;\n    border-radius: 5px;\n    width: 300px;\n    display: flex;\n    flex-direction: column;\n"]);return ve=function(){return e},e}var ge=I.a.div(ve()),ke=I.a.h3(be()),Ee=I.a.div(he()),Oe=I.a.div(fe(),(function(e){return e.color?e.color:"white"})),je=I.a.div(de()),Ce=I.a.div(pe()),we=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeId:null,collum:{name:"",color:"",_id:""}},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{isShown:this.state.activeId===this.props.column._id,title:"Edit column",onCloseComplete:function(){return e.setState({activeId:null})},hasFooter:!1},r.a.createElement(je,null,r.a.createElement(Ee,null,"Name"),r.a.createElement(F.a,{onChange:function(t){return e.setState({collum:Object(p.a)(Object(p.a)({},e.state.collum),{},{name:t.target.value})})},value:this.state.collum.name})),r.a.createElement(je,null,r.a.createElement(Ee,null,"Color"),r.a.createElement(q,{color:this.state.collum.color,onChangeComplete:function(t){return e.setState({collum:Object(p.a)(Object(p.a)({},e.state.collum),{},{color:t})})}})),r.a.createElement(Ce,null,r.a.createElement(N.a,{appearance:"minimal",intent:"danger",onClick:function(){e.props.deleteColumn(e.state.collum._id),e.setState({activeId:null,collum:{name:"",color:"",_id:""}})}},"Delete"),r.a.createElement(N.a,{marginLeft:10,appearance:"minimal",intent:"success",onClick:function(){e.props.changeColumns(e.state.collum),e.setState({activeId:null,collum:{name:"",color:"",_id:""}})}},"Save"))),r.a.createElement(D.b,{draggableId:this.props.column._id,index:this.props.index},(function(t){return r.a.createElement(ge,Object.assign({},t.draggableProps,{ref:t.innerRef}),r.a.createElement(ke,t.dragHandleProps,e.props.column.name,r.a.createElement(me.a,{style:{float:"right"},cursor:"pointer",marginLeft:"1em",onClick:function(){return e.setState({activeId:e.props.column._id,collum:{_id:e.props.column._id,name:e.props.column.name,color:e.props.column.color}})}})),r.a.createElement(D.c,{droppableId:e.props.column._id,isDropDisabled:e.props.isDropDisabled,type:"task"},(function(t,n){return r.a.createElement(Oe,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver,color:e.props.column.color}),e.props.column.tasks.map((function(e,t){return r.a.createElement(ie,{key:e._id,task:e,index:t})})),t.placeholder)})))})))}}]),n}(r.a.Component),xe=Object(l.b)(null,{changeColumns:K,deleteColumn:J})(we),Se=n(221);function ye(){var e=Object(_.a)(["\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return ye=function(){return e},e}function _e(){var e=Object(_.a)(["\n  margin: 0em 0 0.2em 0;\n"]);return _e=function(){return e},e}function De(){var e=Object(_.a)(["\n  margin: 0.5em;\n  float: right;\n"]);return De=function(){return e},e}function Ie(){var e=Object(_.a)(["\n  margin: 0 0.5em 0.7em 0.5em;\n"]);return Ie=function(){return e},e}function Te(){var e=Object(_.a)(["\n  padding: 1em;\n  margin: 1em;\n"]);return Te=function(){return e},e}var Fe=I.a.div(Te()),Ae=I.a.div(Ie()),Ne=I.a.div(De()),Le=I.a.div(_e()),Me=I.a.div(ye()),Pe={boxShadow:"none"},Ue=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={taskIsShown:!1,columnIsShown:!1,task:{owner:"",name:"",color:"",status:!1,desk:""},collum:{name:"",color:""}},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props.todos[0].collums.map((function(e){return{label:e.name,id:e._id}}));return r.a.createElement(Fe,null,r.a.createElement(T.a,{isShown:this.state.taskIsShown,title:"Add new task",onCloseComplete:function(){return e.setState({taskIsShown:!1,task:{owner:"",name:"",color:"",status:!1,desk:""}})},hasFooter:!1},r.a.createElement(Me,null,r.a.createElement(Ae,null,r.a.createElement(Le,null,"Column"),r.a.createElement(Se.a,{style:Pe,width:"100%",items:t,itemToString:function(e){return e?e.label:""},onChange:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{owner:t.id})})},placeholder:"Select the column"})),r.a.createElement(Ae,null,r.a.createElement(Le,null,"Name"),r.a.createElement(F.a,{width:"100%",onChange:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{name:t.target.value})})},value:this.state.task.name,placeholder:"Enter the task name"}))),r.a.createElement(Ae,null,r.a.createElement(Le,null,"Color"),r.a.createElement(q,{color:this.state.task.color,onChangeComplete:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{color:t})})}})),r.a.createElement(Ae,null,r.a.createElement(Le,null,"Description"),r.a.createElement(A.a,{onChange:function(t){return e.setState({task:Object(p.a)(Object(p.a)({},e.state.task),{},{desk:t.target.value})})},value:this.state.task.desk,placeholder:"Enter the task description"})),r.a.createElement(Ne,null,r.a.createElement(N.a,{appearance:"minimal",intent:"success",onClick:function(){e.props.addNewTask(e.state.task),e.setState({taskIsShown:!1,task:{color:"#FFFFFF",status:!1}})},disabled:""===this.state.task.owner||null===this.state.task.owner},"Submit"))),r.a.createElement(T.a,{isShown:this.state.columnIsShown,title:"Add new column",onCloseComplete:function(){return e.setState({columnIsShown:!1,collum:{name:"",color:""}})},hasFooter:!1},r.a.createElement(Ae,null,r.a.createElement(Le,null,"Name"),r.a.createElement(F.a,{onChange:function(t){return e.setState({collum:Object(p.a)(Object(p.a)({},e.state.collum),{},{name:t.target.value})})},value:this.state.collum.name,placeholder:"Enter the column name"})),r.a.createElement(Ae,null,r.a.createElement(Le,null,"Color"),r.a.createElement(q,{color:this.state.collum.color,onChangeComplete:function(t){return e.setState({collum:Object(p.a)(Object(p.a)({},e.state.collum),{},{color:t})})}})),r.a.createElement(Ne,null,r.a.createElement(N.a,{appearance:"minimal",intent:"success",onClick:function(){e.props.addNewColumn(e.state.collum),e.setState({columnIsShown:!1,collum:{}})}},"Submit"))),r.a.createElement(N.a,{intent:"none",onClick:function(){return e.setState({taskIsShown:!0})}},"New task"),r.a.createElement(N.a,{intent:"none",marginLeft:"1em",onClick:function(){return e.setState({columnIsShown:!0})}},"New column"))}}]),n}(a.Component),Be=Object(l.b)((function(e){return{app:e.todoApp}}),{addNewTask:function(e){return function(t){B.a.post("".concat(H,"/tasks"),e).then((function(n){t({type:"ADD_TASK",task:e}),t(R())}))}},addNewColumn:G})(Ue),He=n(67);function Re(){var e=Object(_.a)(["\n  display: flex;\n"]);return Re=function(){return e},e}var Ge=I.a.div(Re()),Ke=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={todos:null},e.onDragEnd=function(t){var n=t.destination,a=t.source,r=t.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if("column"!==r)if(a.droppableId!==n.droppableId){var o=e.state.todos[0].collums.find((function(e){return e._id===a.droppableId})),c=e.state.todos[0].collums.find((function(e){return e._id===n.droppableId})),l=o.tasks,u=c.tasks,s=l.splice(a.index,1),i=Object(C.a)(s,1)[0];u.splice(n.index,0,i),e.props.patchColumns({sourceColumn:o,destColumn:c})}else{var m=e.state.todos[0].collums.find((function(e){return e._id===a.droppableId})),d=m.tasks,f=d.splice(a.index,1),h=Object(C.a)(f,1)[0];d.splice(n.index,0,h),e.props.changeColumns(m)}else{var b=Array.from(e.state.todos[0].collums);b.splice(a.index,1),b.splice(n.index,0,e.state.todos[0].collums[a.index]);var v={0:Object(p.a)(Object(p.a)({},e.state.todos),{},{collums:b})};e.props.movingColumn(b,v)}},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getTodos();case 2:this.setState({todos:this.props.app.todo.todos});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return null!==this.state.todos&&0!==this.state.todos.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Be,{todos:this.state.todos}),r.a.createElement(He.a,{display:"flex",margin:"1em",minHeight:"70vh",width:"100%-2em",overflow:"auto"},r.a.createElement(D.a,{onDragEnd:this.onDragEnd},r.a.createElement(D.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(t){return r.a.createElement(Ge,Object.assign({ref:t.innerRef},t.droppableProps),e.state.todos[0].collums.map((function(e,t){var n=e;return r.a.createElement(xe,{key:n._id,column:n,tasks:n.tasks,index:t})})),t.placeholder)}))))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.app.todo.todos!==t.todos?{todos:e.app.todo.todos}:null}}]),n}(r.a.Component),Je=Object(l.b)((function(e){return{app:e.todoApp}}),{getTodos:R,addNewColumn:G,deleteColumn:J,deleteTask:X,changeColumns:K,movingColumn:function(e,t){return function(){var n=Object(j.a)(O.a.mark((function n(a){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B.a.patch("".concat(H,"/todo"),e).then((function(){a(R())})).catch((function(e){return console.log(e)})),a({type:"PATCH_COLUMN",order2:t});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},patchColumns:function(e){var t=e.sourceColumn,n=e.destColumn;return function(){var e=Object(j.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.patch("".concat(H,"/collums"),{sourceColumn:t,destColumn:n}).then((function(){a(R())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ke);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:k},r.a.createElement(Je,null))),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.ee8c4529.chunk.js.map